!function(){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){window.setTimeout(i,42)}}()}(),function(i){"use strict";var o,n;o={},n={},o.debug=!1,n.topics={"*":i.Callbacks("unique memory")},o.publish=function(){var i;i=[].slice.call(arguments),i.unshift(window),o.publishWith.apply(this,i)},o.publishWith=function(o,e){var s,t,u,r,c;for(c=Array.prototype.slice.call(arguments),c.shift(),c.shift(),e=n.parse_topics(e),t=e.length,s=0;t>s;s++){for(u=e[s].split(".");u.length;)r=u.join("."),u.pop(),n.topics[r]||(n.topics[r]=i.Callbacks("unique memory")),n.publish(o,r,e[s],c);n.publish(o,"*",e[s],c)}},o.subscribe=function(o,e){var s,t,u;for(i.isFunction(e)||console.error("You must subscribe with a function",[o,e]),o=n.parse_topics(o),t=o.length,s=0;t>s;s++)u=o[s],n.topics[u]||(n.topics[u]=i.Callbacks("unique memory")),n.topics[u].add(e)},o.unsubscribe=function(o,e){var s,t,u;for(i.isFunction(e)||console.error("You must unsubscribe with a function"),o=n.parse_topics(o),t=o.length,s=0;t>s;s++)u=o[s],n.topics[u]&&n.topics[u].remove(e)},o.clear=function(o){n.topics[o]=i.Callbacks("unique memory")},o.purge=function(){var i;for(i in n.topics)n.topics.hasOwnProperty(i)&&o.clear(i)},n.parse_topics=function(i){return i.split(" ")},n.publish=function(i,o,e,s){s=s.slice(),n.topics[o]&&e&&(s.unshift(e),window.requestAnimFrame(function(){n.topics[o].fireWith(i,s)}))},o.subscribe("*",function(i){var n;window.console&&o.debug&&(n=Array.prototype.slice.call(arguments,1),console.group?(console.group("PubSub Super Listner"),console.debug("Topic: ",i),console.debug("Arguments: ",n),console.groupEnd("PubSub Super Listner")):console.log("PubSub Super Listner: ",i,n))}),window.__karma__&&(o._=n),i.pubsub=o}(window.jQuery);